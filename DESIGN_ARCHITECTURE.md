# MonoFocus Design System Architecture

## Visual Component Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MonoFocusApp                            â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      ContentView                          â”‚ â”‚
â”‚  â”‚                   (Theme Provider)                        â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                   StatusBarView                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  9:41 â°  â”‚              â”‚  ğŸ”‹ ğŸ“¶ â”‚              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚                   HeaderView                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚   MonoFocus         â”‚    â”‚  â—   â”‚ â† Theme      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜   Toggle     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚              CircularTimerView                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚           â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚          â•±  CircularProgressView â•²                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚         â”‚   (280pt diameter)      â”‚                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚         â”‚                         â”‚                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚         â”‚   â”Œâ”€â”€â”â”Œâ”€â”€â” : â”Œâ”€â”€â”â”Œâ”€â”€â”  â”‚                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚         â”‚   â”‚2 â”‚â”‚5 â”‚   â”‚0 â”‚â”‚0 â”‚  â”‚ â† DigitCards   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚         â”‚   â””â”€â”€â”˜â””â”€â”€â”˜   â””â”€â”€â”˜â””â”€â”€â”˜  â”‚                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚          â•²                       â•±                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚           â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚            "25 minutes left"                       â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚             EmptyStateView (conditional)            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                    â”‚ â±  â”‚ â† Animated               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                    â””â”€â”€â”€â”€â”˜                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚         "Start your focus journey"                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚         "Try 30 min to stay focused"               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚            PresetButtonGroup                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â”‚15m â”‚  â”‚30m â”‚  â”‚60m â”‚  â”‚ ğŸ• â”‚                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”˜                  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚            ControlButtonGroup                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      â”‚  â–¶ Start    â”‚    â”‚  â¹ Stop â”‚              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚            AutomationSection                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â”‚ ğŸ”•  Do Not Disturb          [ â—‹ ]        â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â”‚     Silence notifications                 â”‚    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚               HomeIndicatorView                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                   â–¬â–¬â–¬â–¬â–¬â–¬â–¬                           â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚          ModalOverlay (conditional)                       â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—          â”‚ â”‚
â”‚  â”‚     â•‘      CompletionModal / TimePicker      â•‘          â”‚ â”‚
â”‚  â”‚     â•‘                                         â•‘          â”‚ â”‚
â”‚  â”‚     â•‘           [Modal Content]              â•‘          â”‚ â”‚
â”‚  â”‚     â•‘                                         â•‘          â”‚ â”‚
â”‚  â”‚     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•          â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Design System Component Tree

```
DesignSystem/
â”‚
â”œâ”€â”€ Tokens/
â”‚   â”œâ”€â”€ Typography.swift
â”‚   â”‚   â”œâ”€â”€ Font Sizes: 11pt â†’ 48pt (11 levels)
â”‚   â”‚   â””â”€â”€ Font Weights: Regular â†’ Heavy (5 levels)
â”‚   â”‚
â”‚   â”œâ”€â”€ Spacing.swift
â”‚   â”‚   â”œâ”€â”€ Scale: 4pt â†’ 48pt (9 levels)
â”‚   â”‚   â””â”€â”€ Safe Areas: Status bar, Home indicator
â”‚   â”‚
â”‚   â”œâ”€â”€ Colors.swift
â”‚   â”‚   â”œâ”€â”€ Semantic: Foreground, Background
â”‚   â”‚   â””â”€â”€ Surface Opacity: 5% â†’ 100% (9 levels)
â”‚   â”‚
â”‚   â”œâ”€â”€ Radius.swift
â”‚   â”‚   â””â”€â”€ Scale: 8pt â†’ Full (7 levels)
â”‚   â”‚
â”‚   â”œâ”€â”€ Shadows.swift
â”‚   â”‚   â””â”€â”€ Elevation: SM â†’ XL (4 levels)
â”‚   â”‚
â”‚   â””â”€â”€ Animations.swift
â”‚       â”œâ”€â”€ Durations: 0ms â†’ 500ms (5 levels)
â”‚       â””â”€â”€ Easings: Spring, EaseOut, EaseInOut
â”‚
â”œâ”€â”€ Components/
â”‚   â”‚
â”‚   â”œâ”€â”€ Buttons/
â”‚   â”‚   â”œâ”€â”€ PrimaryButton.swift
â”‚   â”‚   â”‚   â””â”€â”€ Inverted background, 44pt height
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ SecondaryButton.swift
â”‚   â”‚   â”‚   â””â”€â”€ Border style, transparent bg
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ PresetButton.swift
â”‚   â”‚       â””â”€â”€ Translucent with selection state
â”‚   â”‚
â”‚   â”œâ”€â”€ Cards/
â”‚   â”‚   â”œâ”€â”€ DigitCard.swift
â”‚   â”‚   â”‚   â””â”€â”€ 64Ã—80pt, inverted background
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ AutomationCard.swift
â”‚   â”‚       â””â”€â”€ Icon + Title + Description + Toggle
â”‚   â”‚
â”‚   â””â”€â”€ Overlays/
â”‚       â”œâ”€â”€ CustomModal.swift
â”‚       â”‚   â””â”€â”€ Centered with backdrop blur
â”‚       â”‚
â”‚       â””â”€â”€ BlurBackdrop.swift
â”‚           â””â”€â”€ 50% black with ultraThinMaterial
â”‚
â””â”€â”€ Modifiers/
    â”œâ”€â”€ ButtonStyles.swift
    â”‚   â””â”€â”€ ButtonStyle conformances
    â”‚
    â”œâ”€â”€ CardStyles.swift
    â”‚   â””â”€â”€ Container styling
    â”‚
    â””â”€â”€ AnimationModifiers.swift
        â””â”€â”€ Reusable animation patterns
```

## State Flow Diagram

```
Timer States:
                                                    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    
    â”‚  Idle   â”‚ â† time = 0, not running           
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                    
         â”‚                                          
         â”‚ [Set preset/custom time]                
         â–¼                                          
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    
    â”‚  Ready  â”‚ â† time > 0, not running           
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                    
         â”‚                                          
         â”‚ [Start]                                  
         â–¼                                          
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    
    â”‚ Running â”‚ â† isRunning = true                
    â””â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”˜                                    
       â”‚   â”‚                                        
       â”‚   â”‚ [Complete]                            
       â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”                              
       â”‚            â–¼                              
       â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         
       â”‚       â”‚Complete â”‚                         
       â”‚       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                         
       â”‚            â”‚                              
       â”‚            â”‚ [Close modal]                
       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    
       â”‚                      â–¼                    
       â”‚ [Pause]         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  Idle   â”‚              
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              
```

## Animation Timeline

```
Button Press (150ms):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Scale: 1.0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 0.95
Ease:  Spring (0.3, 0.7)

Progress Ring (500ms):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Trim:  0% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 100%
Ease:  EaseOut

Modal Entry (400ms):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Scale:    0.8 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 1.0
Opacity:  0   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 1.0
Ease:     Spring (0.4, 0.8)

Theme Toggle (200ms):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Rotate:   0Â° â”€â”€â”€â”€â”€â”€â–º 90Â°/-90Â°
Opacity:  1  â”€â”€â–º 0  â”€â”€â–º 1
Ease:     EaseInOut

Paused Pulse (1500ms, repeat):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Opacity: 1.0 â”€â”€â”€â”€â”€â–º 0.5 â”€â”€â”€â”€â”€â–º 1.0 â”€â”€â”€â”€â”€â–º 0.5 â”€â”€â”€â”€â”€â–º
Ease:    EaseInOut (infinite)
```

## Touch Target Map

```
Minimum 44Ã—44pt touch targets (iOS standard):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”     â”‚ â† 44pt height
â”‚  â”‚ Logo â”‚    ...    â”‚Toggleâ”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                   â”‚
â”‚  [â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€]  â† Timer         â”‚
â”‚                                   â”‚
â”‚  [15m] [30m] [60m] [ğŸ•]          â”‚ â† 44pt height
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜         â”‚
â”‚  44pt  44pt  44pt  44pt           â”‚
â”‚                                   â”‚
â”‚  [â”€â”€â”€Startâ”€â”€â”€] [â”€â”€Stopâ”€â”€]        â”‚ â† 44pt height
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  DND        [Toggle] â”‚        â”‚ â† 44pt card
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color Opacity System

```
Dark Mode:                    Light Mode:

Foreground: #FFFFFF           Foreground: #000000
Background: #000000           Background: #FFFFFF

Surface Levels:
â”œâ”€ 5%   rgba(255,255,255,0.05)  rgba(0,0,0,0.05)   Subtle bg
â”œâ”€ 10%  rgba(255,255,255,0.10)  rgba(0,0,0,0.10)   Button bg
â”œâ”€ 15%  rgba(255,255,255,0.15)  rgba(0,0,0,0.15)   Hover state
â”œâ”€ 20%  rgba(255,255,255,0.20)  rgba(0,0,0,0.20)   Active state
â””â”€ 30%  rgba(255,255,255,0.30)  rgba(0,0,0,0.30)   Border

Label Levels:
â”œâ”€ 40%  rgba(255,255,255,0.40)  rgba(0,0,0,0.40)   Placeholder
â”œâ”€ 50%  rgba(255,255,255,0.50)  rgba(0,0,0,0.50)   Secondary
â”œâ”€ 60%  rgba(255,255,255,0.60)  rgba(0,0,0,0.60)   Tertiary
â”œâ”€ 70%  rgba(255,255,255,0.70)  rgba(0,0,0,0.70)   Quaternary
â””â”€ 100% rgba(255,255,255,1.00)  rgba(0,0,0,1.00)   Primary
```

## Haptic Feedback Flow

```
User Actions â†’ Haptic Events:

Tap Preset Button     â†’ UIImpactFeedbackGenerator(.light)
Tap Control Button    â†’ UIImpactFeedbackGenerator(.medium)
Toggle Switch On      â†’ UIImpactFeedbackGenerator(.medium)
Toggle Switch Off     â†’ UIImpactFeedbackGenerator(.light)
Timer Start           â†’ UIImpactFeedbackGenerator(.heavy)
Timer Pause           â†’ UIImpactFeedbackGenerator(.soft)
Timer Stop            â†’ UIImpactFeedbackGenerator(.soft)
Timer Complete        â†’ UINotificationFeedbackGenerator(.success)
Invalid Action        â†’ UINotificationFeedbackGenerator(.error)
Theme Toggle          â†’ UIImpactFeedbackGenerator(.light)
Modal Open/Close      â†’ UIImpactFeedbackGenerator(.light)
```

## Accessibility Hierarchy

```
VoiceOver Navigation Order:

1. Status Bar (time, battery) â† Header level 1
2. "MonoFocus" (title) â† Header level 1
3. Theme Toggle â† Button, "Toggle theme"
4. Timer Display â† Timer, "25 minutes 0 seconds remaining"
5. Time Remaining Label â† Static text
6. Preset Buttons â† Buttons, "Set timer to X minutes"
   â”œâ”€ 15 minutes
   â”œâ”€ 30 minutes
   â”œâ”€ 60 minutes
   â””â”€ Custom time
7. Control Buttons â† Buttons
   â”œâ”€ Start/Pause/Resume
   â””â”€ Stop
8. "Automation" â† Header level 2
9. DND Card â† Adjustable, "Do Not Disturb toggle"
10. Home Indicator â† Decorative, hidden from VO

Dynamic Type Support:
â”œâ”€ All text scales with system preference
â”œâ”€ Minimum touch targets maintained (44pt)
â”œâ”€ Layout adapts to larger text
â””â”€ Test at AX1 through AX5 sizes
```

## File Dependencies

```
MonoFocusApp.swift
    â”‚
    â””â”€â”€ ContentView.swift
            â”‚
            â”œâ”€â”€ @EnvironmentObject TimerViewModel
            â”œâ”€â”€ @EnvironmentObject ThemeManager
            â”œâ”€â”€ @EnvironmentObject NotificationService
            â”œâ”€â”€ @EnvironmentObject ShortcutService
            â”‚
            â”œâ”€â”€ StatusBarView
            â”‚       â””â”€â”€ Uses: Typography, Spacing, Colors
            â”‚
            â”œâ”€â”€ HeaderView
            â”‚       â”œâ”€â”€ ThemeToggle
            â”‚       â”‚       â””â”€â”€ Uses: Animations, Haptics
            â”‚       â””â”€â”€ Uses: Typography, Spacing
            â”‚
            â”œâ”€â”€ CircularTimerView
            â”‚       â”œâ”€â”€ CircularProgressView
            â”‚       â”‚       â””â”€â”€ Uses: Animations, Colors
            â”‚       â”œâ”€â”€ TimerDigitsView
            â”‚       â”‚       â””â”€â”€ DigitCardView
            â”‚       â”‚               â””â”€â”€ Uses: Typography, Radius, Shadows
            â”‚       â””â”€â”€ Uses: Spacing, Typography
            â”‚
            â”œâ”€â”€ EmptyStateView
            â”‚       â””â”€â”€ Uses: Typography, Animations, Spacing
            â”‚
            â”œâ”€â”€ PresetButtonGroup
            â”‚       â””â”€â”€ Uses: PresetButtonStyle, Haptics
            â”‚
            â”œâ”€â”€ ControlButtonGroup
            â”‚       â””â”€â”€ Uses: PrimaryButtonStyle, SecondaryButtonStyle, Haptics
            â”‚
            â”œâ”€â”€ AutomationSection
            â”‚       â””â”€â”€ AutomationCard
            â”‚               â””â”€â”€ Uses: Spacing, Radius, Colors
            â”‚
            â”œâ”€â”€ HomeIndicatorView
            â”‚       â””â”€â”€ Uses: Spacing, Colors
            â”‚
            â””â”€â”€ ModalOverlay (conditional)
                    â”œâ”€â”€ CompletionModal
                    â”œâ”€â”€ TimePickerModal
                    â””â”€â”€ ResumeSessionDialog
                            â””â”€â”€ All use: CustomModal, BlurBackdrop
```

---

## Implementation Priority Map

```
Priority: ğŸ”´ Critical | ğŸŸ¡ High | ğŸŸ¢ Medium | ğŸ”µ Low

Phase 1: Foundation (Week 1-2)
â”œâ”€ ğŸ”´ Design Tokens System
â”œâ”€ ğŸ”´ Typography Scale
â”œâ”€ ğŸ”´ Spacing System
â”œâ”€ ğŸŸ¡ Color Definitions
â”œâ”€ ğŸŸ¡ Button Styles
â””â”€ ğŸŸ¢ Animation Presets

Phase 2: Core Timer (Week 3-4)
â”œâ”€ ğŸ”´ CircularProgressView
â”œâ”€ ğŸ”´ DigitCardView
â”œâ”€ ğŸ”´ TimerDigitsView
â”œâ”€ ğŸ”´ CircularTimerView Assembly
â””â”€ ğŸŸ¡ Empty State

Phase 3: Controls (Week 5)
â”œâ”€ ğŸŸ¡ PresetButtonGroup
â”œâ”€ ğŸŸ¡ ControlButtonGroup
â”œâ”€ ğŸŸ¢ Theme Toggle
â””â”€ ğŸŸ¢ Haptic System

Phase 4: UI Enhancement (Week 6)
â”œâ”€ ğŸŸ¡ StatusBarView
â”œâ”€ ğŸŸ¡ HomeIndicatorView
â”œâ”€ ğŸŸ¢ Automation Redesign
â””â”€ ğŸŸ¢ Custom Modals

Phase 5: Animation (Week 7)
â”œâ”€ ğŸŸ¡ Progress Ring Animation
â”œâ”€ ğŸŸ¢ Button Interactions
â”œâ”€ ğŸŸ¢ Modal Transitions
â””â”€ ğŸ”µ Empty State Float

Phase 6: Polish (Week 8)
â”œâ”€ ğŸŸ¡ Accessibility Testing
â”œâ”€ ğŸŸ¡ Performance Optimization
â”œâ”€ ğŸŸ¢ Reduced Motion
â””â”€ ğŸ”µ Edge Case Handling
```

---

*This architecture document provides a visual reference for the component structure, relationships, and implementation flow.*
